<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no">
<meta name="Description" content="" />
<meta property="og:title" content="粉絲團留言抽籤小助手 授權頁面" /> 
<meta property="og:type" content="article" /> 
<meta property="og:url" content="http://gg90052.github.io/comment_helper/auth.html" />
<meta property="og:description" content="" /> 

<title>粉絲團留言抽籤小助手 授權頁面</title>


<style>
.login {
  width: 100vw;
  height: 100vh;
  position: fixed;
  left: 0;
  top: 0;
  background: #ECEFF2;
  z-index: 100000;
  transition: all .3s;
}

.login.auth {
  width: 100%;
  height: auto;
  position: static;
}

.login.success {
  transform: translateY(-100vh);
}

.login .logo {
  width: 300px;
  margin: 0 auto;
  padding: 20px 0;
}

.login .logo img {
  width: 100%;
}

.login .area {
  width: 100%;
  text-align: center;
}

.login .area .title {
  text-align: center;
  font-size: 1.5rem;
  font-weight: bold;
  line-height: 1.5em;
  color: #616182;
}

.login .area #btn_login {
  width: 320px;
  height: 60px;
  line-height: 60px;
  color: #FFF;
  font-size: 1.5rem;
  border: 1px solid #dbdbdb;
  border-radius: 5px;
  background: #4B68A3;
  text-align: center;
  margin: 20px auto;
  cursor: pointer;
  transition: all .2s ease-out;
}

.login .area #btn_login:active {
  transform: scale(0.95);
}

.login .area .readme {
  overflow: hidden;
}

.login .area .readme p {
  text-align: center;
  color: red;
  margin-bottom: 20px;
}

.login .area .qa {
  width: 650px;
  margin: 10px auto;
}

.login .area .qa article {
  margin-top: 20px;
}

.login .area .qa article a {
  color: #068e06;
}

.login .area .qa article p {
  text-align: left;
  line-height: 1.5em;
  font-size: 18px;
}

.login .area .qa article .q {
  color: #a03319;
}

.login .area .qa article .a {
  color: #000090;
}
</style>

<script src="//connect.facebook.net/zh_TW/all.js"></script>

<script type="text/javascript">
window.fbAsyncInit = function() {
  FB.init({
    appId      : '1494465264176752',
    cookie     : true,  // enable cookies to allow the server to access 
                        // the session
    xfbml      : true,  // parse social plugins on this page
    version    : 'v14.0' // use version 2.1
  });
}


(function(d, s, id) {
	var js, fjs = d.getElementsByTagName(s)[0];
	if (d.getElementById(id)) return;
	js = d.createElement(s); js.id = id;
	js.src = "//connect.facebook.net/zh_TW/sdk.js";
	fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));

</script>

</head>

<body style="background: #eceff2">
<div class="login auth">
	<div class="logo"><img src="share.jpg" alt=""></div>
	<div class="area">
		<p class="title">粉絲團留言抽籤小助手 授權頁面</p>
		<div class="fb-page" data-href="https://www.facebook.com/commenthelper/" data-small-header="true" data-adapt-container-width="true" data-hide-cover="true" data-show-facepile="false"><blockquote cite="https://www.facebook.com/commenthelper/" class="fb-xfbml-parse-ignore"><a href="https://www.facebook.com/commenthelper/">粉絲團留言抽籤小助手</a></blockquote></div>
		<div id="btn_login">給予權限</div>
		<section class="qa">
			<h3>Q&A</h3>
			<article>
				<p class="q">Q：這是做什麼用的？</p>
				<p class="a">A：因 Facebook 隱私權條款，用戶提供權限才可透過app取得公開的資料，因此在這個頁面上跟參加抽獎者要求使用者給予權限。</p>
			</article>
			<article>
				<p class="q">Q：我會給出甚麼權限，又會有甚麼後果？</p>
				<p class="a">A：本頁面僅會要求預設權限，大致上就是讀取公開的名稱資料，詳細的說明可見Facebook的官方說明： <a href="https://www.facebook.com/help/187333441316612" target="_blank">https://www.facebook.com/help/187333441316612</a></p>
			</article>
			<article>
				<p class="q">Q：我後悔了，我不想要給你權限。</p>
				<p class="a">A：請按照此篇教學 <a href="https://www.facebook.com/help/170585223002660" target="_blank">https://www.facebook.com/help/170585223002660</a><br>將權限移除後即可，本程式即無法取得你的公開資料。</p>
			</article>
		</section>
	</div>
</div>

<script type="text/javascript">
document.querySelector('#btn_login').addEventListener('click', function(){
  FB.login(function(response) {
		callback(response);
	}, {
		scope: 'groups_access_member_info',
		return_scopes: true
	});
});

function callback(response){
	if (response.status === 'connected') {
		alert('授權完成！');
	}else{
		FB.login(function(response) {
			fb.callback(response);
		}, {return_scopes: true});
	}
}
</script>

</body>
</html>