import{r as n,j as l,i as U,k as _e,b as ce,g as se,c as W,d as B}from"./index-65759b21.js";import{A as ut}from"./index.esm-38b32378.js";import{G as ft,u as H}from"./jszip.min-d3ccbec5.js";import{e as ke,b as pt,i as ht}from"./utils-1a6370a4.js";import{b as le,c as ie,d as de,e as ue,D as fe,a as G}from"./dialog-655b461d.js";import{I as K}from"./input-25edf2d0.js";import{$ as Re,_ as x,a as ee,b as k,c as L,d as N,e as I,f as Ae,g as J,h as bt,B as D}from"./index-a2f473cd.js";import{u as te}from"./useDispatch-6b74ba8e.js";import{d as Te}from"./index.esm-e39bb376.js";import{a as mt,b as vt,c as gt}from"./index.esm-c33b3cad.js";import{R as wt}from"./ReadmeBtn-a69cbf1a.js";import{G as xt}from"./GoogleAds-1ff0f48b.js";function Ne(e){return ft({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m12 18 4-5h-3V2h-2v11H8z"}},{tag:"path",attr:{d:"M19 9h-4v2h4v9H5v-9h4V9H5c-1.103 0-2 .897-2 2v9c0 1.103.897 2 2 2h14c1.103 0 2-.897 2-2v-9c0-1.103-.897-2-2-2z"}}]})(e)}const St=n.createContext(void 0);function $t(e){const t=n.useContext(St);return e||t||"ltr"}function yt(e,[t,r]){return Math.min(r,Math.max(t,e))}function Et(e,t){return n.useReducer((r,a)=>{const o=t[r][a];return o??r},e)}const De="ScrollArea",[Le,Cr]=Re(De),[Ct,P]=Le(De),Pt=n.forwardRef((e,t)=>{const{__scopeScrollArea:r,type:a="hover",dir:o,scrollHideDelay:c=600,...s}=e,[d,f]=n.useState(null),[i,u]=n.useState(null),[p,h]=n.useState(null),[v,g]=n.useState(null),[m,S]=n.useState(null),[y,M]=n.useState(0),[R,E]=n.useState(0),[z,A]=n.useState(!1),[O,_]=n.useState(!1),b=L(t,C=>f(C)),$=$t(o);return n.createElement(Ct,{scope:r,type:a,dir:$,scrollHideDelay:c,scrollArea:d,viewport:i,onViewportChange:u,content:p,onContentChange:h,scrollbarX:v,onScrollbarXChange:g,scrollbarXEnabled:z,onScrollbarXEnabledChange:A,scrollbarY:m,onScrollbarYChange:S,scrollbarYEnabled:O,onScrollbarYEnabledChange:_,onCornerWidthChange:M,onCornerHeightChange:E},n.createElement(I.div,x({dir:$},s,{ref:b,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":R+"px",...e.style}})))}),Mt="ScrollAreaViewport",jt=n.forwardRef((e,t)=>{const{__scopeScrollArea:r,children:a,...o}=e,c=P(Mt,r),s=n.useRef(null),d=L(t,s,c.onViewportChange);return n.createElement(n.Fragment,null,n.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),n.createElement(I.div,x({"data-radix-scroll-area-viewport":""},o,{ref:d,style:{overflowX:c.scrollbarXEnabled?"scroll":"hidden",overflowY:c.scrollbarYEnabled?"scroll":"hidden",...e.style}}),n.createElement("div",{ref:c.onContentChange,style:{minWidth:"100%",display:"table"}},a)))}),j="ScrollAreaScrollbar",Ie=n.forwardRef((e,t)=>{const{forceMount:r,...a}=e,o=P(j,e.__scopeScrollArea),{onScrollbarXEnabledChange:c,onScrollbarYEnabledChange:s}=o,d=e.orientation==="horizontal";return n.useEffect(()=>(d?c(!0):s(!0),()=>{d?c(!1):s(!1)}),[d,c,s]),o.type==="hover"?n.createElement(_t,x({},a,{ref:t,forceMount:r})):o.type==="scroll"?n.createElement(kt,x({},a,{ref:t,forceMount:r})):o.type==="auto"?n.createElement(ze,x({},a,{ref:t,forceMount:r})):o.type==="always"?n.createElement(pe,x({},a,{ref:t})):null}),_t=n.forwardRef((e,t)=>{const{forceMount:r,...a}=e,o=P(j,e.__scopeScrollArea),[c,s]=n.useState(!1);return n.useEffect(()=>{const d=o.scrollArea;let f=0;if(d){const i=()=>{window.clearTimeout(f),s(!0)},u=()=>{f=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return d.addEventListener("pointerenter",i),d.addEventListener("pointerleave",u),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",i),d.removeEventListener("pointerleave",u)}}},[o.scrollArea,o.scrollHideDelay]),n.createElement(ee,{present:r||c},n.createElement(ze,x({"data-state":c?"visible":"hidden"},a,{ref:t})))}),kt=n.forwardRef((e,t)=>{const{forceMount:r,...a}=e,o=P(j,e.__scopeScrollArea),c=e.orientation==="horizontal",s=oe(()=>f("SCROLL_END"),100),[d,f]=Et("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return n.useEffect(()=>{if(d==="idle"){const i=window.setTimeout(()=>f("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(i)}},[d,o.scrollHideDelay,f]),n.useEffect(()=>{const i=o.viewport,u=c?"scrollLeft":"scrollTop";if(i){let p=i[u];const h=()=>{const v=i[u];p!==v&&(f("SCROLL"),s()),p=v};return i.addEventListener("scroll",h),()=>i.removeEventListener("scroll",h)}},[o.viewport,c,f,s]),n.createElement(ee,{present:r||d!=="hidden"},n.createElement(pe,x({"data-state":d==="hidden"?"hidden":"visible"},a,{ref:t,onPointerEnter:k(e.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:k(e.onPointerLeave,()=>f("POINTER_LEAVE"))})))}),ze=n.forwardRef((e,t)=>{const r=P(j,e.__scopeScrollArea),{forceMount:a,...o}=e,[c,s]=n.useState(!1),d=e.orientation==="horizontal",f=oe(()=>{if(r.viewport){const i=r.viewport.offsetWidth<r.viewport.scrollWidth,u=r.viewport.offsetHeight<r.viewport.scrollHeight;s(d?i:u)}},10);return F(r.viewport,f),F(r.content,f),n.createElement(ee,{present:a||c},n.createElement(pe,x({"data-state":c?"visible":"hidden"},o,{ref:t})))}),pe=n.forwardRef((e,t)=>{const{orientation:r="vertical",...a}=e,o=P(j,e.__scopeScrollArea),c=n.useRef(null),s=n.useRef(0),[d,f]=n.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),i=He(d.viewport,d.content),u={...a,sizes:d,onSizesChange:f,hasThumb:i>0&&i<1,onThumbChange:h=>c.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function p(h,v){return zt(h,s.current,d,v)}return r==="horizontal"?n.createElement(Rt,x({},u,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&c.current){const h=o.viewport.scrollLeft,v=Ee(h,d,o.dir);c.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=p(h,o.dir))}})):r==="vertical"?n.createElement(At,x({},u,{ref:t,onThumbPositionChange:()=>{if(o.viewport&&c.current){const h=o.viewport.scrollTop,v=Ee(h,d);c.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=p(h))}})):null}),Rt=n.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...o}=e,c=P(j,e.__scopeScrollArea),[s,d]=n.useState(),f=n.useRef(null),i=L(t,f,c.onScrollbarXChange);return n.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.createElement(Ue,x({"data-orientation":"horizontal"},o,{ref:i,sizes:r,style:{bottom:0,left:c.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:c.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":re(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.x),onDragScroll:u=>e.onDragScroll(u.x),onWheelScroll:(u,p)=>{if(c.viewport){const h=c.viewport.scrollLeft+u.deltaX;e.onWheelScroll(h),We(h,p)&&u.preventDefault()}},onResize:()=>{f.current&&c.viewport&&s&&a({content:c.viewport.scrollWidth,viewport:c.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Q(s.paddingLeft),paddingEnd:Q(s.paddingRight)}})}}))}),At=n.forwardRef((e,t)=>{const{sizes:r,onSizesChange:a,...o}=e,c=P(j,e.__scopeScrollArea),[s,d]=n.useState(),f=n.useRef(null),i=L(t,f,c.onScrollbarYChange);return n.useEffect(()=>{f.current&&d(getComputedStyle(f.current))},[f]),n.createElement(Ue,x({"data-orientation":"vertical"},o,{ref:i,sizes:r,style:{top:0,right:c.dir==="ltr"?0:void 0,left:c.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":re(r)+"px",...e.style},onThumbPointerDown:u=>e.onThumbPointerDown(u.y),onDragScroll:u=>e.onDragScroll(u.y),onWheelScroll:(u,p)=>{if(c.viewport){const h=c.viewport.scrollTop+u.deltaY;e.onWheelScroll(h),We(h,p)&&u.preventDefault()}},onResize:()=>{f.current&&c.viewport&&s&&a({content:c.viewport.scrollHeight,viewport:c.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Q(s.paddingTop),paddingEnd:Q(s.paddingBottom)}})}}))}),[Tt,Oe]=Le(j),Ue=n.forwardRef((e,t)=>{const{__scopeScrollArea:r,sizes:a,hasThumb:o,onThumbChange:c,onThumbPointerUp:s,onThumbPointerDown:d,onThumbPositionChange:f,onDragScroll:i,onWheelScroll:u,onResize:p,...h}=e,v=P(j,r),[g,m]=n.useState(null),S=L(t,b=>m(b)),y=n.useRef(null),M=n.useRef(""),R=v.viewport,E=a.content-a.viewport,z=N(u),A=N(f),O=oe(p,10);function _(b){if(y.current){const $=b.clientX-y.current.left,C=b.clientY-y.current.top;i({x:$,y:C})}}return n.useEffect(()=>{const b=$=>{const C=$.target;(g==null?void 0:g.contains(C))&&z($,E)};return document.addEventListener("wheel",b,{passive:!1}),()=>document.removeEventListener("wheel",b,{passive:!1})},[R,g,E,z]),n.useEffect(A,[a,A]),F(g,O),F(v.content,O),n.createElement(Tt,{scope:r,scrollbar:g,hasThumb:o,onThumbChange:N(c),onThumbPointerUp:N(s),onThumbPositionChange:A,onThumbPointerDown:N(d)},n.createElement(I.div,x({},h,{ref:S,style:{position:"absolute",...h.style},onPointerDown:k(e.onPointerDown,b=>{b.button===0&&(b.target.setPointerCapture(b.pointerId),y.current=g.getBoundingClientRect(),M.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),_(b))}),onPointerMove:k(e.onPointerMove,_),onPointerUp:k(e.onPointerUp,b=>{const $=b.target;$.hasPointerCapture(b.pointerId)&&$.releasePointerCapture(b.pointerId),document.body.style.webkitUserSelect=M.current,v.viewport&&(v.viewport.style.scrollBehavior=""),y.current=null})})))}),ae="ScrollAreaThumb",Nt=n.forwardRef((e,t)=>{const{forceMount:r,...a}=e,o=Oe(ae,e.__scopeScrollArea);return n.createElement(ee,{present:r||o.hasThumb},n.createElement(Dt,x({ref:t},a)))}),Dt=n.forwardRef((e,t)=>{const{__scopeScrollArea:r,style:a,...o}=e,c=P(ae,r),s=Oe(ae,r),{onThumbPositionChange:d}=s,f=L(t,p=>s.onThumbChange(p)),i=n.useRef(),u=oe(()=>{i.current&&(i.current(),i.current=void 0)},100);return n.useEffect(()=>{const p=c.viewport;if(p){const h=()=>{if(u(),!i.current){const v=Ot(p,d);i.current=v,d()}};return d(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[c.viewport,u,d]),n.createElement(I.div,x({"data-state":s.hasThumb?"visible":"hidden"},o,{ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:k(e.onPointerDownCapture,p=>{const v=p.target.getBoundingClientRect(),g=p.clientX-v.left,m=p.clientY-v.top;s.onThumbPointerDown({x:g,y:m})}),onPointerUp:k(e.onPointerUp,s.onThumbPointerUp)}))}),Fe="ScrollAreaCorner",Lt=n.forwardRef((e,t)=>{const r=P(Fe,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&a?n.createElement(It,x({},e,{ref:t})):null}),It=n.forwardRef((e,t)=>{const{__scopeScrollArea:r,...a}=e,o=P(Fe,r),[c,s]=n.useState(0),[d,f]=n.useState(0),i=!!(c&&d);return F(o.scrollbarX,()=>{var u;const p=((u=o.scrollbarX)===null||u===void 0?void 0:u.offsetHeight)||0;o.onCornerHeightChange(p),f(p)}),F(o.scrollbarY,()=>{var u;const p=((u=o.scrollbarY)===null||u===void 0?void 0:u.offsetWidth)||0;o.onCornerWidthChange(p),s(p)}),i?n.createElement(I.div,x({},a,{ref:t,style:{width:c,height:d,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...e.style}})):null});function Q(e){return e?parseInt(e,10):0}function He(e,t){const r=e/t;return isNaN(r)?0:r}function re(e){const t=He(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,a=(e.scrollbar.size-r)*t;return Math.max(a,18)}function zt(e,t,r,a="ltr"){const o=re(r),c=o/2,s=t||c,d=o-s,f=r.scrollbar.paddingStart+s,i=r.scrollbar.size-r.scrollbar.paddingEnd-d,u=r.content-r.viewport,p=a==="ltr"?[0,u]:[u*-1,0];return Ve([f,i],p)(e)}function Ee(e,t,r="ltr"){const a=re(t),o=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,c=t.scrollbar.size-o,s=t.content-t.viewport,d=c-a,f=r==="ltr"?[0,s]:[s*-1,0],i=yt(e,f);return Ve([0,s],[0,d])(i)}function Ve(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}function We(e,t){return e>0&&e<t}const Ot=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function o(){const c={left:e.scrollLeft,top:e.scrollTop},s=r.left!==c.left,d=r.top!==c.top;(s||d)&&t(),r=c,a=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(a)};function oe(e,t){const r=N(e),a=n.useRef(0);return n.useEffect(()=>()=>window.clearTimeout(a.current),[]),n.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function F(e,t){const r=N(t);Ae(()=>{let a=0;if(e){const o=new ResizeObserver(()=>{cancelAnimationFrame(a),a=window.requestAnimationFrame(r)});return o.observe(e),()=>{window.cancelAnimationFrame(a),o.unobserve(e)}}},[e,r])}const Be=Pt,Ut=jt,Ft=Lt,Ht=n.forwardRef(({className:e,children:t,...r},a)=>l.jsxs(Be,{ref:a,className:J("relative overflow-hidden",e),...r,children:[l.jsx(Ut,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(Ye,{}),l.jsx(Ft,{})]}));Ht.displayName=Be.displayName;const Ye=n.forwardRef(({className:e,orientation:t="vertical",...r},a)=>l.jsx(Ie,{ref:a,orientation:t,className:J("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(Nt,{className:"relative flex-1 rounded-full bg-border"})}));Ye.displayName=Ie.displayName;function Vt(e){const t=n.useRef({value:e,previous:e});return n.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Wt(e){const[t,r]=n.useState(void 0);return Ae(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let s,d;if("borderBoxSize"in c){const f=c.borderBoxSize,i=Array.isArray(f)?f[0]:f;s=i.inlineSize,d=i.blockSize}else s=e.offsetWidth,d=e.offsetHeight;r({width:s,height:d})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else r(void 0)},[e]),t}const Xe="Switch",[Bt,Pr]=Re(Xe),[Yt,Xt]=Bt(Xe),qt=n.forwardRef((e,t)=>{const{__scopeSwitch:r,name:a,checked:o,defaultChecked:c,required:s,disabled:d,value:f="on",onCheckedChange:i,...u}=e,[p,h]=n.useState(null),v=L(t,M=>h(M)),g=n.useRef(!1),m=p?!!p.closest("form"):!0,[S=!1,y]=bt({prop:o,defaultProp:c,onChange:i});return n.createElement(Yt,{scope:r,checked:S,disabled:d},n.createElement(I.button,x({type:"button",role:"switch","aria-checked":S,"aria-required":s,"data-state":qe(S),"data-disabled":d?"":void 0,disabled:d,value:f},u,{ref:v,onClick:k(e.onClick,M=>{y(R=>!R),m&&(g.current=M.isPropagationStopped(),g.current||M.stopPropagation())})})),m&&n.createElement(Jt,{control:p,bubbles:!g.current,name:a,value:f,checked:S,required:s,disabled:d,style:{transform:"translateX(-100%)"}}))}),Gt="SwitchThumb",Kt=n.forwardRef((e,t)=>{const{__scopeSwitch:r,...a}=e,o=Xt(Gt,r);return n.createElement(I.span,x({"data-state":qe(o.checked),"data-disabled":o.disabled?"":void 0},a,{ref:t}))}),Jt=e=>{const{control:t,checked:r,bubbles:a=!0,...o}=e,c=n.useRef(null),s=Vt(r),d=Wt(t);return n.useEffect(()=>{const f=c.current,i=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(i,"checked").set;if(s!==r&&p){const h=new Event("click",{bubbles:a});p.call(f,r),f.dispatchEvent(h)}},[s,r,a]),n.createElement("input",x({type:"checkbox","aria-hidden":!0,defaultChecked:r},o,{tabIndex:-1,ref:c,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function qe(e){return e?"checked":"unchecked"}const Ge=qt,Qt=Kt,Zt=n.forwardRef(({className:e,...t},r)=>l.jsx(Ge,{className:J("peer inline-flex h-[20px] w-[36px] shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:l.jsx(Qt,{className:J("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Zt.displayName=Ge.displayName;var Ke={},ne={};Object.defineProperty(ne,"__esModule",{value:!0});ne.defaultConfiguration=void 0;ne.defaultConfiguration={clientId:"",developerKey:"",viewId:"DOCS",callbackFunction:function(){return null}};var he={};Object.defineProperty(he,"__esModule",{value:!0});var Ce=n,w={queue:{},injectorMap:{},scriptMap:{}};function er(e){var t=(0,Ce.useState)({loaded:!1,error:!1}),r=t[0],a=t[1];return(0,Ce.useEffect)(function(){var o,c,s,d,f;if(!((o=w.injectorMap)===null||o===void 0)&&o[e]||(w.injectorMap[e]="init"),w.injectorMap[e]==="loaded"){a({loaded:!0,error:!1});return}if(w.injectorMap[e]==="error"){a({loaded:!0,error:!0});return}var i=function(p){var h,v,g,m;p&&console.log("error loading the script"),(v=(h=w.queue)===null||h===void 0?void 0:h[e])===null||v===void 0||v.forEach(function(S){return S(p)}),p&&w.scriptMap[e]?((m=(g=w.scriptMap)===null||g===void 0?void 0:g[e])===null||m===void 0||m.remove(),w.injectorMap[e]="error"):w.injectorMap[e]="loaded",delete w.scriptMap[e]},u=function(p){a({loaded:!0,error:p})};return!((c=w.scriptMap)===null||c===void 0)&&c[e]||(w.scriptMap[e]=document.createElement("script"),w.scriptMap[e]&&(w.scriptMap[e].src=e,w.scriptMap[e].async=!0,document.body.append(w.scriptMap[e]),w.scriptMap[e].addEventListener("load",function(){return i(!1)}),w.scriptMap[e].addEventListener("error",function(){return i(!0)}),w.injectorMap[e]="loading")),!((s=w.queue)===null||s===void 0)&&s[e]?(f=(d=w.queue)===null||d===void 0?void 0:d[e])===null||f===void 0||f.push(u):w.queue[e]=[u],function(){var p,h;w.scriptMap[e]&&((p=w.scriptMap[e])===null||p===void 0||p.removeEventListener("load",function(){return i(!0)}),(h=w.scriptMap[e])===null||h===void 0||h.removeEventListener("error",function(){return i(!0)}))}},[e]),[r.loaded,r.error]}he.default=er;var Z=U&&U.__assign||function(){return Z=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Z.apply(this,arguments)},Pe=U&&U.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var a=0,o=t.length,c;a<o;a++)(c||!(a in t))&&(c||(c=Array.prototype.slice.call(t,0,a)),c[a]=t[a]);return e.concat(c||Array.prototype.slice.call(t))},tr=U&&U.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ke,"__esModule",{value:!0});var T=n,rr=ne,Me=tr(he);function or(){var e=["https://www.googleapis.com/auth/drive.readonly"],t=(0,Me.default)("https://apis.google.com/js/api.js"),r=t[0],a=t[1],o=(0,Me.default)("https://accounts.google.com/gsi/client"),c=o[0],s=o[1],d=(0,T.useState)(!1),f=d[0],i=d[1],u=(0,T.useState)(!1),p=u[0],h=u[1],v=(0,T.useState)(!1);v[0],v[1];var g=(0,T.useState)(rr.defaultConfiguration),m=g[0],S=g[1],y=(0,T.useState)(),M=y[0],R=y[1],E;(0,T.useEffect)(function(){r&&!a&&c&&!s&&!f&&A()},[r,a,c,s,f]),(0,T.useEffect)(function(){p&&m.token&&r&&!a&&c&&!s&&f&&(_(m),h(!1))},[p,m.token,r,a,c,s,f]);var z=function(b){if(S(b),!b.token){var $=google.accounts.oauth2.initTokenClient({client_id:b.clientId,scope:(b.customScopes?Pe(Pe([],e,!0),b.customScopes,!0):e).join(" "),callback:function(C){R(C),_(Z(Z({},b),{token:C.access_token}))}});$.requestAccessToken()}if(b.token&&r&&!a&&f)return _(b)},A=function(){window.gapi.load("auth"),window.gapi.load("picker",{callback:O})},O=function(){i(!0)},_=function(b){var $=b.token,C=b.appId,be=C===void 0?"":C,me=b.supportDrives,Qe=me===void 0?!1:me,Ze=b.developerKey,ve=b.viewId,et=ve===void 0?"DOCS":ve,tt=b.disabled,rt=b.multiselect,ge=b.setOrigin,we=b.showUploadView,ot=we===void 0?!1:we,nt=b.showUploadFolders,xe=b.setParentFolder,Y=xe===void 0?"":xe,X=b.viewMimeTypes,Se=b.customViews,$e=b.locale,at=$e===void 0?"en":$e,ct=b.setIncludeFolders,st=b.setSelectFolderEnabled,ye=b.disableDefaultView,lt=ye===void 0?!1:ye,it=b.callbackFunction;if(tt)return!1;var V=new google.picker.DocsView(google.picker.ViewId[et]);X&&V.setMimeTypes(X),ct&&V.setIncludeFolders(!0),st&&V.setSelectFolderEnabled(!0);var q=new google.picker.DocsUploadView;return X&&q.setMimeTypes(X),nt&&q.setIncludeFolders(!0),Y&&q.setParent(Y),Y&&V.setParent(Y),E=new google.picker.PickerBuilder().setAppId(be).setOAuthToken($).setDeveloperKey(Ze).setLocale(at).setCallback(it),ge&&E.setOrigin(ge),lt||E.addView(V),Se&&Se.map(function(dt){return E.addView(dt)}),rt&&E.enableFeature(google.picker.Feature.MULTISELECT_ENABLED),ot&&E.addView(q),Qe&&E.enableFeature(google.picker.Feature.SUPPORT_DRIVES),E.build().setVisible(!0),!0};return[z,M]}var nr=Ke.default=or;const ar="AIzaSyBwxIfh3Gv0hRaxGerhjUwwYyeef3LtKmY",cr="1082106606322-hd4f6u0m35htsr9i9b17ldr52dnvg5nb.apps.googleusercontent.com";let je="";function sr({afterSave:e,setModalOpen:t}){const[r,a]=_e(),[o,c]=n.useState(r.get("mid")||""),[s,d]=n.useState(r.get("name")||""),[f,i]=nr(),{t:u}=H(),p=n.useRef(),h=()=>{if(o===""){alert(u("mapUpload.emptyUrl"));return}else if((!o.includes("mid=")||!o.includes("google.com/maps/"))&&o.includes("https://")){c(""),alert(u("mapUpload.urlError"));return}const m=o.indexOf("mid=")>0?o.indexOf("mid=")+4:0,S=o.indexOf("&",m)>0?o.indexOf("&",m):o.length,y=o.substring(m,S);t(!1),e(y,s),a({})};n.useEffect(()=>{i&&i.access_token&&(je=i.access_token)},[i]);const v=()=>{f({clientId:cr,developerKey:ar,viewId:"DOCS",token:je,viewMimeTypes:"application/vnd.google-apps.drive-sdk.796396377186",multiselect:!1,locale:"zh-TW",callbackFunction:m=>{m.action==="loaded"&&console.log("picker loaded"),m.action==="picked"&&g(m.docs[0].name,m.docs[0].url),m.action==="cancel"&&console.log("User clicked cancel/close button")}})},g=(m,S)=>{c(S),d(m)};return l.jsx(l.Fragment,{children:l.jsxs(le,{className:"modalContent","data-cy":"importMapModal",onInteractOutside:m=>m.preventDefault(),children:[l.jsx(ie,{children:l.jsx(de,{children:u("mapUpload.importMap")})}),l.jsxs(l.Fragment,{children:[l.jsx("a",{className:"text-blue-500",href:"https://gg90052.github.io/blog/goom/",target:"_blank",rel:"noreferrer",children:u("mapUpload.howto")}),l.jsx(K,{type:"text",placeholder:u("mapUpload.emptyUrl"),defaultValue:o,onChange:m=>c(m.target.value),"data-cy":"mapURL"}),l.jsx(K,{type:"text",placeholder:u("mapUpload.enterName"),ref:p,defaultValue:s,onChange:m=>d(m.target.value),"data-cy":"mapName"})]}),l.jsxs(ue,{className:"sm:justify-between gap-2 sm:gap-0",children:[l.jsx(D,{variant:"outline",type:"button",onClick:v,children:u("mapUpload.selectFromDrive")}),l.jsx(D,{type:"submit",onClick:h,"data-cy":"saveImportMap",children:u("mapUpload.importMap")})]})]})})}const Je=n.forwardRef(({type:e="import",size:t=24},r)=>{const[a,o]=n.useState(!1),{mymaps:c}=ce(i=>i.maps),s=te(),d=se(),f=async(i,u)=>{const p=await ke(i,u);s(W(p)),s(B([...c,p])),d("/")};return l.jsxs("div",{className:e==="full"?"w-full h-full absolute":"",children:[e==="import"&&l.jsx(Ne,{size:t,ref:r,onClick:()=>o(!0)}),e==="full"&&l.jsx("div",{className:"w-full h-full",ref:r,onClick:()=>o(!0)}),l.jsx(fe,{open:a,onOpenChange:o,children:l.jsx(sr,{afterSave:(i,u)=>f(i,u),setModalOpen:o})})]})});Je.displayName="MapUploader";function lr({map:e}){const{t}=H(),[r,a]=n.useState(""),{mymaps:o,defaultMap:c}=ce(i=>i.maps),s=te(),d=()=>{const i=pt(e);i.name=r;const u=o.map(p=>p.id===e.id?i:p);s(B(u))},f=()=>{const i=o.filter(u=>u.id!==e.id);s(B(i)),c.id===e.id&&s(W(i.length>0?i[0]:{}))};return l.jsxs(fe,{children:[l.jsx(G,{asChild:!0,children:l.jsx(D,{className:"w-full rounded-none bg-slate-600 text-white",children:t("common.edit")})}),l.jsxs(le,{className:"modalContent",children:[l.jsx(ie,{children:l.jsx(de,{children:t("common.edit")+t("common.map")})}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-slate-500 -mb-3",children:t("common.map")+t("common.name")}),l.jsx(K,{id:"mapName",defaultValue:e.name,onChange:i=>a(i.target.value),className:"w-full"})]}),l.jsxs(ue,{className:"w-full flex flex-row flex-nowrap items-center",children:[l.jsx(G,{asChild:!0,children:l.jsx(D,{className:"w-[90px] shrink-0 mr-8 text-red-700 hover:text-red-500",variant:"ghost",size:"sm",onClick:f,children:t("common.delete")+t("common.map")})}),l.jsx(G,{asChild:!0,children:l.jsx(D,{className:"grow shrink-0",type:"submit",onClick:d,children:t("common.save")})})]})]})]})}function ir({map:e}){const{t}=H(),r=window.location.href+"?mid="+e.mid+"&name="+e.name,a=e.mid;async function o(s){try{await navigator.clipboard.writeText(s),alert(t("index.copyedMid",{mid:s}))}catch(d){console.error(d)}}const c=()=>{navigator.share?navigator.share({title:document.title,text:`${t("common.map")}${t("index.share")} - `+e.name,url:r}).then(()=>console.log("成功！")).catch(s=>console.log("發生錯誤",s)):console.log(r)};return l.jsx(l.Fragment,{children:l.jsxs(le,{className:"modalContent",children:[l.jsx(ie,{children:l.jsx(de,{children:t("index.share")+t("common.map")})}),l.jsxs(l.Fragment,{children:[l.jsxs("h1",{className:"text-lg text-center",children:[l.jsx(Te,{size:24,className:"inline-block mr-2",color:"#5bb531"}),e.name]}),l.jsxs("div",{className:"row",children:[l.jsxs("label",{className:"w-full block mb-2",htmlFor:"shareMid",children:[t("common.map")," Mid："]}),l.jsxs("div",{className:"inputGroup",children:[l.jsx(K,{className:"grow",name:"shareMid",type:"text",value:a,readOnly:!0}),l.jsx("div",{className:"shrink-0 ml-2 bg-slate-100 p-2 border border-slate-400",onClick:()=>o(e.mid),children:l.jsx(mt,{size:"20",color:"#666"})})]})]})]}),l.jsx(ue,{children:l.jsx(D,{type:"submit",onClick:c,children:t("index.share")})})]})})}function dr({map:e}){const{t}=H();return l.jsxs(fe,{children:[l.jsx(G,{asChild:!0,children:l.jsxs(D,{className:"w-full rounded-none bg-green-600 text-white",children:[l.jsx(vt,{className:"mr-2"}),t("index.share")]})}),l.jsx(ir,{map:e})]})}function ur({item:e,afterSyncMap:t}){const{t:r}=H(),[a,o]=n.useState(e),[c,s]=n.useState(!1),d=se(),f=te(),i=p=>{localStorage.showedLayer="",f(W(p)),d("/")},u=async()=>{s(!0);try{const p=await ke(e.mid,e.name,e.id);o(p),t(p),s(!1)}catch(p){console.log(p),s(!1)}};return l.jsxs("div",{className:"border border-gray-300 cursor-pointer flex flex-col justify-between relative","data-cy":"mapsBtns",children:[c&&l.jsxs("div",{"data-cy":"syncing",className:"z-10 absolute w-full h-full flex justify-center items-center bg-black/70 text-white",children:[r("index.sync"),"..."]}),e.mid&&l.jsx("div",{className:"absolute top-0 right-0 p-3",children:l.jsx(gt,{size:24,color:"#5bb531",onClick:u,"data-cy":"syncMap"})}),l.jsxs("div",{className:"flex flex-col justify-center items-center my-4 px-4 grow",onClick:()=>i(a),children:[l.jsx(Te,{size:44,color:"#5bb531"}),l.jsx("p",{className:"text-center mt-2",children:e.name})]},e.id),l.jsxs("div",{className:"flex",children:[l.jsx(lr,{map:e}),e.mid&&l.jsx(dr,{map:e})]})]})}function fr(){const{t:e}=H(),[t]=_e(),r=n.useRef(),a=t.get("mid");n.useEffect(()=>{a&&r.current.click()},[a,r]);const{mymaps:o}=ce(i=>i.maps),c=se(),s=te(),d=i=>{const u=o.map(p=>p.id===i.id?i:p);s(W(i)),s(B(u))},f=()=>{const i=ht();s(W(i)),s(B([...o,i])),c("/")};return l.jsxs("div",{className:"p-4",children:[o.length===0&&l.jsx(wt,{}),l.jsx("button",{className:"w-full h-12 border-dashed border-2 text-gray-500",children:l.jsxs("div",{className:"flex justify-center relative","data-cy":"importMap",children:[l.jsx(Je,{className:"absolute",type:"full",ref:r}),l.jsx(Ne,{size:24}),l.jsx("p",{className:"ml-2",children:e("mapUpload.importMap")})]})}),l.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[o.map(i=>l.jsx(ur,{item:i,afterSyncMap:d},i.id)),l.jsxs("div",{onClick:f,className:"p-4 border border-gray-300 flex flex-col justify-center items-center cursor-pointer","data-cy":"add-blank-map",children:[l.jsx(ut,{size:44,color:"#999"}),l.jsx("p",{className:"text-center mt-2 text-[#999]",children:e("index.addNewMap")})]})]}),l.jsx("div",{className:"mt-4",children:l.jsx(xt,{})})]})}function Mr(){return l.jsx("div",{className:"w-full h-full",children:l.jsx(fr,{})})}export{Mr as default};
