import{j as e,r as x,b as M,o as N,d as b}from"./index-d4c0aa35.js";import{d as F}from"./index.esm-1f0a606d.js";import{a as S,b as L}from"./index.esm-bd54f932.js";import{G as w}from"./iconBase-fa96f2cb.js";import{a as y,b as z,c as C}from"./index.esm-0c89c783.js";import{f as E,g as G,d as O}from"./utils-3d32e68b.js";import{I as B}from"./Icon-d51ae2f7.js";import{u as P}from"./useDispatch-5d8e2ac9.js";function _(s){return w({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"}}]})(s)}function H({description:s}){const l=E(s);return e.jsx("div",{className:"p-4 min-h-[30px] break-all border-b-2",children:e.jsx("p",{dangerouslySetInnerHTML:{__html:l}})})}function A({item:s,layerId:l,readonly:d=!1,onEdit:h}){const[c,j]=x.useState(!1),k=G(s),u=O(s),p=P(),{favorites:n,isEditMode:f,selectedMarkerItem:a}=M(i=>i.maps),t=x.useMemo(()=>!d&&f,[d,f]),m=n.find(i=>i.id===s.id),v=i=>{j(r=>!r)},g=i=>{i.stopPropagation();let r="";m?r=n.filter(o=>o.id!==s.id):r=[...n,s],p(N(r)),localStorage.setItem("favorites",JSON.stringify(r))},I=i=>{i.stopPropagation();let r="";a.includes(s.id)?r=a.filter(o=>o!==s.id):r=[...a,s.id],p(b(r))};return e.jsxs("li",{className:"list-none","data-cy":"markItem",children:[e.jsxs("div",{className:"min-h-[3rem] flex justify-between items-center px-2 py-2 border-b relative",children:[e.jsxs("div",{className:"w-6 h-6 shrink-0 mr-2",children:[e.jsx("div",{className:t?"slideOutLeft":"slideIn",onClick:g,"data-cy":"triggerFavo",children:m?e.jsx(y,{size:24,fill:"#f00"}):e.jsx(z,{size:24,fill:"#f00"})}),e.jsx("div",{onClick:I,className:t?"slideIn":"slideOutLeft",children:a.includes(s.id)?e.jsx(S,{size:24,fill:"#16a34a"}):e.jsx(L,{size:24,fill:"#16a34a"})})]}),e.jsx("div",{className:"w-6 h-6 shrink-0 mr-2",children:e.jsx("a",{href:u,target:"_blank",rel:"noreferrer",children:e.jsx(B,{iconId:s.icon})})}),e.jsxs("p",{className:"text-md mr-4 grow",onClick:v,children:[s.name,s.description&&e.jsx(C,{className:`inline-block transition-transform ${c?"":"-rotate-90"}`,size:24})]}),e.jsxs("div",{className:"flex shrink-0 items-center justify-end mr-2 space-x-3 w-6",children:[e.jsx("div",{className:"w-6 h-6",children:e.jsx(_,{className:t?"slideIn":"slideOutRight","data-cy":"editMarkItem",size:24,onClick:h})}),e.jsx("a",{href:k,className:t?"slideOutRight":"slideIn",target:"_blank",rel:"noreferrer",children:e.jsx(F,{size:24,fill:"#666"})})]})]}),s.description&&c&&e.jsx(H,{description:s.description})]})}export{_ as F,A as M};
